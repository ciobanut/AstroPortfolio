---
import Button from "@components/Form/Button.astro";

if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    const name = data.get("name");
    const email = data.get("email");
    const message = data.get("message");
	console.error(data);

    // Do something with the data
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<form class="border border-slate-200 rounded-xl p-6 relative" method="POST" action="/api/sendEmail">

	<div class="absolute w-full h-full bg-red-200/30 flex items-center justify-center top-0 left-0 z-30 rounded-lg">
		<span class="text-7xl -rotate-45 text-slate-700 z-40">
			Comming Soon...
		</span>
	</div>
  <div class="space-y-12">
    <div class="grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6">
      <div class="sm:col-span-6 flex justify-between items-center">
        <div class="flex gap-5 items-center">
          <h3 class="text-xl font-semibold">Write it here!</h3>

          <label class="relative inline-flex cursor-pointer items-center">
            <input type="checkbox" value="" id="toggle" name="toggle" checked class="peer sr-only" />
            <div
              class="peer flex h-8 items-center gap-4 rounded-full bg-primary-600 px-3 after:absolute after:left-1 after: after:h-6 after:w-16 after:rounded-full after:bg-white/40 after:transition-all after:content-[''] peer-checked:bg-stone-600 peer-checked:after:translate-x-full peer-focus:outline-none dark:border-slate-600 dark:bg-slate-700 text-sm text-white"
            >
              <span>General</span>
              <span>Project</span>
            </div>
          </label>
        </div>
        <div class="text-xs">Average Response Time: 24 Hours or Less</div>
      </div>

      <!-- Name -->
      <div class="sm:col-span-3">
        <div class="relative mt-2">
          <!-- TODO: Add autocomplete  -->
          <input
            type="text"
            id="name"
            name="name"
			autocomplete="given-name"
			required
            class="block px-2.5 pb-2.5 pt-3 w-full text-sm text-slate-900 bg-transparent rounded-lg border-1 border-slate-300 appearance-none dark:text-white dark:border-slate-600 dark:focus:border-stone-500 focus:outline-none focus:ring-0 focus:border-stone-600 peer"
            placeholder=" "
			disabled
          />
          <label
            for="name"
            class="absolute text-sm text-slate-500 dark:text-slate-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-slate-900 px-2 peer-focus:px-2 peer-focus:text-stone-600 peer-focus:dark:text-stone-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1"
            >Name</label
          >
        </div>
      </div>

      <!-- Email -->
      <div class="sm:col-span-3">
        <div class="relative mt-2">
          <!-- TODO: Add autocomplete  -->
          <input
            type="text"
            id="email"
            name="email"
			required
			autocomplete="email"
            class="block px-2.5 pb-2.5 pt-3 w-full text-sm text-slate-900 bg-transparent rounded-lg border-1 border-slate-300 appearance-none dark:text-white dark:border-slate-600 dark:focus:border-stone-500 focus:outline-none focus:ring-0 focus:border-stone-600 peer"
            placeholder=" "
			disabled
          />
          <label
            for="email"
            class="absolute text-sm text-slate-500 dark:text-slate-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-slate-900 px-2 peer-focus:px-2 peer-focus:text-stone-600 peer-focus:dark:text-stone-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1"
            >Email address</label
          >
        </div>
      </div>

      <!-- Message -->
      <div class="col-span-full">
        <div class="relative mt-2">
          <textarea
            id="message"
            name="message"
            placeholder=" "
			disabled
            rows="7"
			required
            class="peer block px-2.5 pb-2.5 pt-3 w-full text-sm text-slate-900 bg-transparent rounded-lg border-1 border-slate-300 appearance-none dark:text-white dark:border-slate-600 dark:focus:border-stone-500 focus:outline-none focus:ring-0 focus:border-stone-600 placeholder:text-slate-400 sm:text-sm sm:leading-6"
          ></textarea>
          <span
            class="absolute text-sm text-slate-500 dark:text-slate-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-slate-900 px-2 peer-focus:px-2 peer-focus:text-stone-600 peer-focus:dark:text-stone-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-5 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1"
            >Message</span
          >
        </div>

        <p class="mt-3 text-sm leading-6 text-slate-600">
          Write a few sentences about your project.
        </p>
      </div>

      <div
        class="col-span-full "
      >
        <Button
          type="submit"
          title="Send Message"
          icon="ph:caret-right-bold"
          size="lg"
          variant="primary"
        />
      </div>

    </div>
  </div>
</form>
